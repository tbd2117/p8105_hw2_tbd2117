---
title: "Homework 2"
author: "Thiago de Araujo - UNI tbd2117"
output: github_document
---

```{r message=FALSE}
library(tidyverse)
library(readxl)
library(haven)
```

### Problem 1

Reading and cleaning Mr. Trash Wheel Dataset

```{r}
mr_trash_df = 
  read_excel("./data/MR_Trash_Wheel.xlsx", sheet = "Mr. Trash Wheel", range = "A2:N408") %>% 
  janitor::clean_names() %>% 
  mutate(sports_balls = as.integer(sports_balls))
  
professor_trash_df = 
  read_excel("./data/MR_Trash_Wheel.xlsx", sheet = "Professor Trash Wheel", range = "A2:N80") %>% 
  janitor::clean_names() %>% 
  mutate(sports_balls = as.integer(sports_balls))

captain_trash_df = 
  read_excel("./data/MR_Trash_Wheel.xlsx", sheet = "Captain Trash Wheel", range = "A2:k20") %>% 
  janitor::clean_names()
```

Read and clean precipitation data for 2017 and 2018. For each, omit rows without precipitation data and add a variable year.

```{r}
precip_2018 = 
  read_excel("./data/MR_Trash_Wheel.xlsx", sheet = "2018 Precipitation", range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  mutate(year = "2018") %>% 
  mutate(month = month.name)

precip_2017 = 
  read_excel("./data/MR_Trash_Wheel.xlsx", sheet = "2017 Precipitation", range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  mutate(year = "2017") %>% 
  mutate(month = month.name)
```

Next, combine precipitation datasets and convert month to a character variable (the variable month.name is built into R and should be useful).

```{r}
precipitation =
  bind_rows(precip_2017, precip_2018) %>%
  relocate(year)
```

Write a paragraph about these data; you are encouraged to use inline R. Be sure to note the number of observations in both resulting datasets, and give examples of key variables. For available data, what was the total precipitation in 2018? What was the median number of sports balls in a dumpster in 2017?

```{r}
# median number of sports balls in a dumpster in 2017
sports_balls_2017 = bind_rows(mr_trash_df, professor_trash_df, captain_trash_df) %>% 
  select(sports_balls, year) %>% 
  drop_na() %>% 
  filter(year == "2017")

# total precipitation in 2018
sum(pull(precip_2018, total))
```

The _mr_trash_df_ dataset contains data on trash collected by Mr. Trash Wheel. The dataset has `r nrow(mr_trash_df)` rows and `r ncol(mr_trash_df)` columns, and includes data for dumpsters from `r min(pull(mr_trash_df, year), na.rm=TRUE)` to `r max(pull(mr_trash_df, year), na.rm=TRUE)`.


The _professor_trash_df_ contains data on trash collected by Professor Trash Wheel. The dataset has `r nrow(professor_trash_df)` rows and `r ncol(professor_trash_df)` columns, and includes data for dumpsters from `r min(pull(professor_trash_df, year), na.rm=TRUE)` to `r max(pull(professor_trash_df, year), na.rm=TRUE)`.


The _captain_trash_df_ contains data on trash collected by Captain Trash Wheel. The dataset has `r nrow(captain_trash_df)` rows and `r ncol(captain_trash_df)` columns, and includes data for dumpsters from `r min(pull(captain_trash_df, year), na.rm=TRUE)` to `r max(pull(captain_trash_df, year), na.rm=TRUE)`.


The total precipitation in 2018 was `r sum(pull(precip_2018, total))`in.

The median number of sports balls in a dumpster in 2017 was `r median(pull(sports_balls_2017, sports_balls))`.


```{r}

```

